<!DOCTYPE html>
<html lang="ar">
<head>
<meta charset="UTF-8">
<title>ŸÑÿπÿ®ÿ© ÿ≠ÿ±ÿ®</title>
<style>
body {
  margin: 0;
  background: #111;
  overflow: hidden;
  touch-action: none;
}
canvas {
  display: block;
  margin: auto;
  background: #222;
}
#controls {
  position: fixed;
  bottom: 10px;
  left: 50%;
  transform: translateX(-50%);
  display: flex;
  gap: 10px;
}
button {
  padding: 15px;
  font-size: 18px;
}
</style>
</head>
<body>

<canvas id="game" width="360" height="500"></canvas>

<div id="controls">
  <button onclick="moveLeft()">‚¨ÖÔ∏è</button>
  <button onclick="shoot()">üî´</button>
  <button onclick="moveRight()">‚û°Ô∏è</button>
</div>

<script>
const canvas = document.getElementById("game");
const ctx = canvas.getContext("2d");

let player = { x: 170, y: 450, w: 20, h: 20 };
let bullets = [];
let enemies = [];
let score = 0;

function moveLeft() {
  player.x -= 20;
}
function moveRight() {
  player.x += 20;
}
function shoot() {
  bullets.push({ x: player.x + 8, y: player.y });
}

function spawnEnemy() {
  enemies.push({ x: Math.random()*340, y: 0 });
}

function update() {
  ctx.clearRect(0,0,canvas.width,canvas.height);

  // ÿßŸÑŸÑÿßÿπÿ®
  ctx.fillStyle = "lime";
  ctx.fillRect(player.x, player.y, player.w, player.h);

  // ÿßŸÑÿ±ÿµÿßÿµ
  ctx.fillStyle = "yellow";
  bullets.forEach(b => {
    b.y -= 5;
    ctx.fillRect(b.x, b.y, 4, 10);
  });

  // ÿßŸÑÿ£ÿπÿØÿßÿ°
  ctx.fillStyle = "red";
  enemies.forEach(e => {
    e.y += 2;
    ctx.fillRect(e.x, e.y, 20, 20);
  });

  // ÿ™ÿµÿßÿØŸÖ
  enemies.forEach((e, ei) => {
    bullets.forEach((b, bi) => {
      if (
        b.x < e.x+20 &&
        b.x+4 > e.x &&
        b.y < e.y+20 &&
        b.y+10 > e.y
      ) {
        enemies.splice(ei,1);
        bullets.splice(bi,1);
        score++;
      }
    });
  });

  ctx.fillStyle = "white";
  ctx.fillText("ÿßŸÑŸÜŸÇÿßÿ∑: " + score, 10, 20);

  requestAnimationFrame(update);
}

setInterval(spawnEnemy, 1000);
update();
</script>

</body>
</html>
