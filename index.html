<!DOCTYPE html>
<html lang="ar">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ù„Ø¹Ø¨Ø© Ø¨Ø¨Ø¬ÙŠ Ù…Ø¨Ø³Ø·Ø©</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { 
            font-family: Arial, sans-serif; 
            background: #1a1a2e; 
            color: white;
            overflow: hidden;
            height: 100vh;
        }
        #gameCanvas {
            display: block;
            background: #2d4059;
            margin: 0 auto;
        }
        #ui {
            position: absolute;
            top: 20px;
            left: 20px;
            background: rgba(0,0,0,0.7);
            padding: 15px;
            border-radius: 10px;
        }
        .health-bar {
            width: 200px;
            height: 20px;
            background: red;
            border-radius: 10px;
            overflow: hidden;
            margin-bottom: 10px;
        }
        #healthFill {
            height: 100%;
            background: green;
            width: 100%;
        }
        .controls {
            position: absolute;
            bottom: 20px;
            width: 100%;
            text-align: center;
        }
        button {
            padding: 15px 30px;
            margin: 0 10px;
            font-size: 18px;
            background: #ff9900;
            border: none;
            border-radius: 10px;
            cursor: pointer;
        }
        #donation {
            position: absolute;
            top: 20px;
            right: 20px;
            background: #ff5500;
            padding: 10px 20px;
            border-radius: 20px;
            cursor: pointer;
        }
    </style>
</head>
<body>
    <canvas id="gameCanvas" width="800" height="600"></canvas>
    <div id="ui">
        <h3>Ø¨Ø¨Ø¬ÙŠ Ù…Ø¨Ø³Ø·Ø©</h3>
        <div class="health-bar">
            <div id="healthFill"></div>
        </div>
        <p>Ø§Ù„ØµØ­Ø©: <span id="health">100</span></p>
        <p>Ø§Ù„Ø°Ø®ÙŠØ±Ø©: <span id="ammo">30</span></p>
        <p>Ø§Ù„Ø£Ø¹Ø¯Ø§Ø¡: <span id="enemies">5</span></p>
    </div>
    <div id="donation">Ø¯Ø¹Ù… Ø§Ù„Ù…Ø·ÙˆØ± ğŸ’–</div>
    <div class="controls">
        <button onclick="move('up')">â¬†ï¸</button>
        <button onclick="move('left')">â¬…ï¸</button>
        <button onclick="move('down')">â¬‡ï¸</button>
        <button onclick="move('right')">â¡ï¸</button>
        <button onclick="shoot()">ğŸ”« Ø¥Ø·Ù„Ø§Ù‚</button>
        <button onclick="reload()">ğŸ”„ Ø¥Ø¹Ø§Ø¯Ø© ØªØ­Ù…ÙŠÙ„</button>
    </div>

    <script>
        const canvas = document.getElementById('gameCanvas');
        const ctx = canvas.getContext('2d');
        
        // Ø§Ù„Ù„Ø§Ø¹Ø¨
        let player = {
            x: 400, y: 300, size: 20,
            health: 100, ammo: 30,
            color: '#1E90FF'
        };
        
        // Ø§Ù„Ø£Ø¹Ø¯Ø§Ø¡
        let enemies = [];
        for (let i = 0; i < 5; i++) {
            enemies.push({
                x: Math.random() * 800,
                y: Math.random() * 600,
                size: 20,
                health: 50,
                color: '#FF0000'
            });
        }
        
        // Ø§Ù„Ø±ØµØ§ØµØ§Øª
        let bullets = [];
        
        // Ø±Ø³Ù… Ø§Ù„Ù„Ø§Ø¹Ø¨
        function drawPlayer() {
            ctx.fillStyle = player.color;
            ctx.beginPath();
            ctx.arc(player.x, player.y, player.size, 0, Math.PI * 2);
            ctx.fill();
            
            // Ø±Ø³Ù… Ø³Ù„Ø§Ø­
            ctx.fillStyle = '#8B4513';
            ctx.fillRect(player.x + 10, player.y - 5, 30, 10);
        }
        
        // Ø±Ø³Ù… Ø§Ù„Ø£Ø¹Ø¯Ø§Ø¡
        function drawEnemies() {
            enemies.forEach(enemy => {
                ctx.fillStyle = enemy.color;
                ctx.beginPath();
                ctx.arc(enemy.x, enemy.y, enemy.size, 0, Math.PI * 2);
                ctx.fill();
                
                // Ø¹ÙŠÙˆÙ† Ø§Ù„Ø¹Ø¯Ùˆ
                ctx.fillStyle = 'black';
                ctx.beginPath();
                ctx.arc(enemy.x - 5, enemy.y - 5, 3, 0, Math.PI * 2);
                ctx.arc(enemy.x + 5, enemy.y - 5, 3, 0, Math.PI * 2);
                ctx.fill();
            });
        }
        
        // Ø±Ø³Ù… Ø§Ù„Ø±ØµØ§ØµØ§Øª
        function drawBullets() {
            ctx.fillStyle = 'yellow';
            bullets.forEach(bullet => {
                ctx.beginPath();
                ctx.arc(bullet.x, bullet.y, 5, 0, Math.PI * 2);
                ctx.fill();
            });
        }
        
        // ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø±ØµØ§ØµØ§Øª
        function updateBullets() {
            bullets = bullets.filter(bullet => {
                bullet.x += bullet.vx;
                bullet.y += bullet.vy;
                
                // Ø­Ø°Ù Ø§Ù„Ø±ØµØ§ØµØ© Ø¥Ø°Ø§ Ø®Ø±Ø¬Øª Ù…Ù† Ø§Ù„Ø´Ø§Ø´Ø©
                if (bullet.x < 0 || bullet.x > 800 || bullet.y < 0 || bullet.y > 600) {
                    return false;
                }
                
                // Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø§ØµØ·Ø¯Ø§Ù… Ø§Ù„Ø±ØµØ§ØµØ© Ø¨Ø§Ù„Ø¹Ø¯Ùˆ
                for (let i = enemies.length - 1; i >= 0; i--) {
                    const enemy = enemies[i];
                    const dx = bullet.x - enemy.x;
                    const dy = bullet.y - enemy.y;
                    const distance = Math.sqrt(dx * dx + dy * dy);
                    
                    if (distance < player.size + enemy.size) {
                        enemy.health -= 25;
                        if (enemy.health <= 0) {
                            enemies.splice(i, 1);
                            document.getElementById('enemies').textContent = enemies.length;
                        }
                        return false;
                    }
                }
                
                return true;
            });
        }
        
        // ØªØ­Ø¯ÙŠØ« Ø­Ø±ÙƒØ© Ø§Ù„Ø£Ø¹Ø¯Ø§Ø¡
        function updateEnemies() {
            enemies.forEach(enemy => {
                // ØªØ­Ø±ÙŠÙƒ Ø§Ù„Ø¹Ø¯Ùˆ Ù†Ø­Ùˆ Ø§Ù„Ù„Ø§Ø¹Ø¨
                const dx = player.x - enemy.x;
                const dy = player.y - enemy.y;
                const distance = Math.sqrt(dx * dx + dy * dy);
                
                if (distance > 0) {
                    enemy.x += (dx / distance) * 2;
                    enemy.y += (dy / distance) * 2;
                }
                
                // Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø§ØµØ·Ø¯Ø§Ù… Ø§Ù„Ø¹Ø¯Ùˆ Ø¨Ø§Ù„Ù„Ø§Ø¹Ø¨
                const playerDx = player.x - enemy.x;
                const playerDy = player.y - enemy.y;
                const playerDistance = Math.sqrt(playerDx * playerDx + playerDy * playerDy);
                
                if (playerDistance < player.size + enemy.size) {
                    player.health -= 1;
                    document.getElementById('health').textContent = player.health;
                    document.getElementById('healthFill').style.width = player.health + '%';
                    
                    if (player.health <= 0) {
                        alert('Ù„Ù‚Ø¯ Ù‡Ø²Ù…Øª! Ø§Ø¶ØºØ· F5 Ù„Ù„Ø¹Ø¨ Ù…Ø±Ø© Ø£Ø®Ø±Ù‰');
                        player.health = 0;
                    }
                }
            });
        }
        
        // Ø¯ÙˆØ±Ø© Ø§Ù„Ù„Ø¹Ø¨Ø©
        function gameLoop() {
            // Ù…Ø³Ø­ Ø§Ù„Ø´Ø§Ø´Ø©
            ctx.clearRect(0, 0, 800, 600);
            
            // Ø±Ø³Ù… Ø§Ù„Ø®Ù„ÙÙŠØ©
            ctx.fillStyle = '#2d4059';
            ctx.fillRect(0, 0, 800, 600);
            
            // Ø±Ø³Ù… Ø§Ù„Ø´Ø¨ÙƒØ©
            ctx.strokeStyle = '#3a506b';
            ctx.lineWidth = 1;
            for (let x = 0; x < 800; x += 50) {
                ctx.beginPath();
                ctx.moveTo(x, 0);
                ctx.lineTo(x, 600);
                ctx.stroke();
            }
            for (let y = 0; y < 600; y += 50) {
                ctx.beginPath();
                ctx.moveTo(0, y);
                ctx.lineTo(800, y);
                ctx.stroke();
            }
            
            // Ø±Ø³Ù… Ø§Ù„Ø¹Ù†Ø§ØµØ±
            drawEnemies();
            drawPlayer();
            drawBullets();
            
            // ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø¹Ù†Ø§ØµØ±
            updateBullets();
            updateEnemies();
            
            // Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„ÙÙˆØ²
            if (enemies.length === 0) {
                ctx.fillStyle = 'rgba(0, 0, 0, 0.7)';
                ctx.fillRect(0, 0, 800, 600);
                
                ctx.fillStyle = 'gold';
                ctx.font = '50px Arial';
                ctx.textAlign = 'center';
                ctx.fillText('ğŸ‰ ÙØ²Øª! ğŸ‰', 400, 300);
            }
            
            requestAnimationFrame(gameLoop);
        }
        
        // Ø§Ù„ØªØ­ÙƒÙ… ÙÙŠ Ø§Ù„Ø­Ø±ÙƒØ©
        function move(direction) {
            switch(direction) {
                case 'up': player.y -= 20; break;
                case 'down': player.y += 20; break;
                case 'left': player.x -= 20; break;
                case 'right': player.x += 20; break;
            }
            
            // Ø§Ù„ØªØ£ÙƒØ¯ Ù…Ù† Ø¨Ù‚Ø§Ø¡ Ø§Ù„Ù„Ø§Ø¹Ø¨ Ø¯Ø§Ø®Ù„ Ø§Ù„Ø´Ø§Ø´Ø©
            player.x = Math.max(player.size, Math.min(800 - player.size, player.x));
            player.y = Math.max(player.size, Math.min(600 - player.size, player.y));
        }
        
        // Ø¥Ø·Ù„Ø§Ù‚ Ø§Ù„Ù†Ø§Ø±
        function shoot() {
            if (player.ammo > 0) {
                player.ammo--;
                document.getElementById('ammo').textContent = player.ammo;
                
                bullets.push({
                    x: player.x + 40,
                    y: player.y,
                    vx: 10,
                    vy: 0
                });
            }
        }
        
        // Ø¥Ø¹Ø§Ø¯Ø© Ø§Ù„ØªØ­Ù…ÙŠÙ„
        function reload() {
            player.ammo = 30;
            document.getElementById('ammo').textContent = player.ammo;
        }
        
        // ØµÙ†Ø¯ÙˆÙ‚ Ø§Ù„ØªØ¨Ø±Ø¹Ø§Øª
        document.getElementById('donation').addEventListener('click', function() {
            alert('Ø´ÙƒØ±Ø§Ù‹ Ù„Ø¯Ø¹Ù…Ùƒ! â¤ï¸\nÙŠÙ…ÙƒÙ†Ùƒ Ø§Ù„ØªØ¨Ø±Ø¹ Ø¹Ø¨Ø±:\n- PayPal: developer@example.com\n- Patreon: patreon.com/developer');
        });
        
        // Ø¨Ø¯Ø¡ Ø§Ù„Ù„Ø¹Ø¨Ø©
        gameLoop();
        
        // Ø¥Ø¶Ø§ÙØ© ØªØ­ÙƒÙ… Ø¨Ù„ÙˆØ­Ø© Ø§Ù„Ù…ÙØ§ØªÙŠØ­
        document.addEventListener('keydown', function(e) {
            switch(e.key) {
                case 'ArrowUp': case 'w': case 'W': move('up'); break;
                case 'ArrowDown': case 's': case 'S': move('down'); break;
                case 'ArrowLeft': case 'a': case 'A': move('left'); break;
                case 'ArrowRight': case 'd': case 'D': move('right'); break;
                case ' ': shoot(); break;
                case 'r': case 'R': reload(); break;
            }
        });
    </script>
</body>
</html>
